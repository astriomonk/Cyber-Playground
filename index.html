<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cyber Playground</title>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%; background: Black;
      font-family: monospace;
      color: #0af;
      overflow: hidden;
      transition: all 0.5s;
    }

    header {
      display: flex;
      background: #111;
      border-bottom: 2px solid #0af;
    }

    header button {
      flex: 1;
      padding: 10px;
      border: none;
      background: black;
      color: #0af;
      font-size: 16px;
      cursor: pointer;
      user-select: none;
    }

    header button.active {
      background: #0af;
      color: black;
    }

    .tab {
      display: none;
      height: calc(100vh - 42px);
      overflow: hidden;
      position: relative;
      padding: 10px;
      box-sizing: border-box;
    }

    .tab.active {
      display: block;
    }

    .emoji-explode {
      position: absolute;
      font-size: 2rem;
      animation: explode 1s ease-out forwards;
      pointer-events: none;
    }

    @keyframes explode {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: translateY(-100px) scale(2); opacity: 0; }
    }

    .keyboard-flash {
      position: absolute;
      font-size: 2rem;
      pointer-events: none;
    }

    .leak {
      font-size: 14px;
      animation: leakmove 6s linear forwards;
      position: absolute;
      white-space: nowrap;
    }

    @keyframes leakmove {
      0% { left: 100%; }
      100% { left: -100%; }
    }

    .icon {
      width: 100px;
      height: 100px;
      background: #0af2;
      color: #0af;
      border: 1px solid #0af;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 10px;
      cursor: move;
      position: absolute;
      user-select: none;
      border-radius: 8px;
      transition: background-color 0.3s;
    }
    .icon:hover {
      background: #0af6;
    }

    .window {
      position: absolute;
      top: 100px;
      left: 100px;
      width: 320px;
      height: 240px;
      background: #111;
      color: #0af;
      border: 2px solid #0af;
      padding: 10px;
      box-sizing: border-box;
      overflow: auto;
      border-radius: 10px;
      user-select: text;
      box-shadow: 0 0 15px #0af8;
    }
    .window header {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: move;
    }
    .window header button {
      background: #222;
      border: none;
      color: #0af;
      font-size: 18px;
      cursor: pointer;
      border-radius: 4px;
      padding: 0 8px;
    }
    .window header button:hover {
      background: #0af;
      color: black;
    }

    /* RAINBOW MODE */
    .rainbow-mode * {
      animation: rainbowColor 5s infinite linear !important;
    }

    .rainbow-mode body {
      animation: rainbowBG 10s infinite linear;
    }

    @keyframes rainbowColor {
      0% { color: red; border-color: red; background-color: #000; }
      20% { color: orange; border-color: orange; }
      40% { color: yellow; border-color: yellow; }
      60% { color: green; border-color: green; }
      80% { color: blue; border-color: blue; }
      100% { color: violet; border-color: violet; }
    }

    @keyframes rainbowBG {
      0% { background: #111; }
      20% { background: #222; }
      40% { background: #333; }
      60% { background: #111; }
      80% { background: #222; }
      100% { background: #111; }
    }

    textarea {
      width: 100%;
      height: 80%;
      background: black;
      color: #0af;
      border: 1px solid #0af;
      resize: none;
      font-family: monospace;
      font-size: 16px;
      padding: 5px;
      box-sizing: border-box;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <header>
    <button class="tab-btn active" data-tab="emoji">Emoji Hacker</button>
    <button class="tab-btn" data-tab="keyboard">Keyboard Game</button>
    <button class="tab-btn" data-tab="leak">Data Breach</button>
    <button class="tab-btn" data-tab="desktop">Retro Desktop</button>
  </header>

  <div id="emoji" class="tab active">
    <input type="text" id="emojiInput" placeholder="Type here..." style="width:100%; padding:10px; font-size:18px;">
  </div>

  <div id="keyboard" class="tab"></div>

  <div id="leak" class="tab"></div>

  <div id="desktop" class="tab" style="position:relative;">
    <div class="icon" style="top:50px; left:50px;" onclick="spawnWindow('Terminal')">üñ•Ô∏è Terminal</div>
    <div class="icon" style="top:50px; left:170px;" onclick="spawnWindow('Chat')">üí¨ Chat</div>
    <div class="icon" style="top:50px; left:290px;" onclick="spawnWindow('Self-Destruct')">üí£ Self-Destruct</div>
    <div class="icon" style="top:50px; left:410px;" onclick="spawnWindow('Notes')">üìù Notes</div>
    <div class="icon" style="top:50px; left:530px;" onclick="spamPopups()">üìõ Popups</div>
  </div>

<script>
  // Tabs
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(btn.dataset.tab).classList.add('active');
    });
  });

  // Emoji Hacker
  const emojiList = ['üí•','ü§ñ','üëæ','üöÄ','üí£','üß†','üõ∏','üåå','üíÄ';
  document.getElementById('emojiInput').addEventListener('input', () => {
    for(let i=0; i<5; i++) {
      const e = document.createElement('div');
      e.textContent = emojiList[Math.floor(Math.random()*emojiList.length)];
      e.className = 'emoji-explode';
      e.style.left = Math.random()*window.innerWidth+'px';
      e.style.top = window.innerHeight - 100 + 'px';
      document.body.appendChild(e);
      setTimeout(()=>e.remove(), 1000);
    }
  });

  // Keyboard Game
  document.addEventListener('keydown', (e) => {
    if (!document.getElementById('keyboard').classList.contains('active')) return;
    const k = document.createElement('div');
    k.className = 'keyboard-flash';
    k.textContent = e.key.toUpperCase();
    k.style.left = Math.random()*window.innerWidth+'px';
    k.style.top = Math.random()*window.innerHeight+'px';
    k.style.color = `hsl(${Math.random()*360}, 100%, 70%)`;
    document.body.appendChild(k);
    setTimeout(()=>k.remove(), 1000);
  });

  // Data Breach
  const fakeUsers = ["admin","neo","cybercat","ghost"];
  const fakePasswords = ["1234","matrix","hunter2","n3ural"];
  setInterval(() => {
    if (!document.getElementById('leak').classList.contains('active')) return;
    const div = document.createElement('div');
    div.className = 'leak';
    div.style.top = Math.random()*window.innerHeight + 'px';
    div.style.color = `hsl(${Math.random()*360},100%,70%)`;
    div.textContent = fakeUsers[Math.floor(Math.random()*fakeUsers.length)] + ' : ' + fakePasswords[Math.floor(Math.random()*fakePasswords.length)];
    document.getElementById('leak').appendChild(div);
    setTimeout(()=>div.remove(), 5000);
  }, 700);

  // Desktop windows
  function spawnWindow(type) {
    const w = document.createElement('div');
    w.className = 'window';
    w.style.top = '120px';
    w.style.left = '120px';

    if (type === 'Terminal') {
      w.innerHTML = `
        <header>Terminal <button title="Close" onclick="this.closest('.window').remove()">‚ùå</button></header>
        <div>> <input id="term" style="width:100%;background:#000;color:#0af;border:none;outline:none;font-family: monospace;font-size:16px;"></div>
        <div id="output" style="margin-top:10px;white-space: pre-wrap; height: 140px; overflow-y: auto;"></div>
      `;
      setTimeout(() => {
        const term = w.querySelector('#term');
        const out = w.querySelector('#output');
        term.focus();
        term.addEventListener('keydown', function(e) {
          if (e.key === 'Enter') {
            let val = term.value.trim();
            out.innerHTML += `\n> ${val}`;
            if (val === 'help') out.innerHTML += '\ncommands: help, clear, whoami, hack';
            else if (val === 'clear') out.innerHTML = '';
            else if (val === 'whoami') out.innerHTML += '\nYou are: user1337';
            else if (val === 'hack') out.innerHTML += '\nAccessing mainframe... ‚úîÔ∏è';
            else out.innerHTML += '\nUnknown command.';
            out.scrollTop = out.scrollHeight;
            term.value = '';
          }
        });
      }, 50);
    } else if (type === 'Chat') {
      w.innerHTML = `
        <header>ChatBot <button title="Close" onclick="this.closest('.window').remove()">‚ùå</button></header>
        <div>Hello! Try typing /joke or /hello</div>
      `;
    } else if (type === 'Self-Destruct') {
      w.innerHTML = `
        <header>Self-Destruct <button title="Close" onclick="this.closest('.window').remove()">‚ùå</button></header>
        <div>Self-Destruct Initiated... üí£<br>In..3..2..1 üí•<br>Just kidding!</div>
      `;
    } else if (type === 'Notes') {
      w.innerHTML = `
        <header>Notes <button title="Close" onclick="this.closest('.window').remove()">‚ùå</button></header>
        <textarea placeholder="Write your notes here..."></textarea>
      `;
    }
    document.getElementById('desktop').appendChild(w);
    makeDraggable(w);
  }

  function makeDraggable(el) {
    let isDown = false;
    let offset = [0, 0];
    let header = el.querySelector('header') || el;
    header.style.cursor = 'move';

    header.addEventListener('mousedown', function(e) {
      isDown = true;
      offset = [ el.offsetLeft - e.clientX, el.offsetTop - e.clientY ];
      e.preventDefault();
    });
    document.addEventListener('mouseup', () => isDown = false);
    document.addEventListener('mousemove', function(e) {
      if (isDown) {
        el.style.left = (e.clientX + offset[0]) + 'px';
        el.style.top = (e.clientY + offset[1]) + 'px';
      }
    });
  }

  // Konami Code triggers rainbow mode
  const konami = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
  let keys = [];
  window.addEventListener('keydown', function(e) {
    keys.push(e.key);
    if (keys.length > 10) keys.shift();
    if (keys.join(',') === konami.join(',')) {
      document.body.classList.toggle('rainbow-mode');
      alert("üåà Rainbow mode toggled!");
    }
  });

  // Fake Popups with Deny/Allow prank

  function spamPopups() {
    for (let i = 0; i < 5; i++) {
      setTimeout(spawnFakePopup, i * 300);
    }
  }

  function spawnFakePopup() {
    const popup = document.createElement("div");
    popup.className = "window";
    popup.style.top = (Math.random() * (window.innerHeight - 200) + 50) + "px";
    popup.style.left = (Math.random() * (window.innerWidth - 320) + 50) + "px";

    // Random prank messages
    const messages = [
      "üíÄ VIRUS DETECTED! Removing system32...",
      "üß† Neural Overload Detected!",
      "üö® Memory Leak at 0xC0FFEE!",
      "üì° Connecting to intergalactic internet...",
      "üõ∏ Alien signal received: 'run.exe'",
      "üî• CPU Temp: 999¬∞C"
    ];
    const msg = messages[Math.floor(Math.random() * messages.length)];

    popup.innerHTML = `
      <header>üö´ SYSTEM ALERT <button title="Close" onclick="this.closest('.window').remove()">‚ùå</button></header>
      <div style="font-size:14px; margin: 10px 0;">${msg}</div>
      <div style="text-align:center;">
        <button id="denyBtn" style="background:#f00; color:#fff; border:none; padding:6px 12px; margin-right:10px; cursor:pointer; border-radius:4px;">Deny</button>
        <button id="allowBtn" style="background:#0f0; color:#000; border:none; padding:6px 12px; cursor:pointer; border-radius:4px;">Allow</button>
      </div>
      <div id="prankResponse" style="margin-top:10px; font-weight:bold; min-height:20px;"></div>
    `;

    document.getElementById("desktop").appendChild(popup);
    makeDraggable(popup);

    // Prank button behavior
    const denyBtn = popup.querySelector("#denyBtn");
    const allowBtn = popup.querySelector("#allowBtn");
    const response = popup.querySelector("#prankResponse");

    denyBtn.addEventListener("click", () => {
      response.textContent = "Access denied. Nothing happened.";
      denyBtn.disabled = true;
      allowBtn.disabled = true;
    });
    allowBtn.addEventListener("click", () => {
      response.textContent = "Warning: You allowed the prank! üéâ";
      denyBtn.disabled = true;
      allowBtn.disabled = true;
      // Optional: make popup flash or wiggle
      let count = 0;
      const wiggle = setInterval(() => {
        if(count++ > 10) {
          clearInterval(wiggle);
          popup.style.transform = '';
          return;
        }
        popup.style.transform = `translate(${(count % 2 ? 5 : -5)}px, 0)`;
      }, 100);
    });
  }
</script>
</body>
</html>
