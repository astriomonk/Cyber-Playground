<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cyber Playground</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      background: black;
      font-family: monospace;
      color: #0af;
      overflow: hidden;
    }
    header {
      display: flex;
      background: #111;
      border-bottom: 1px solid #0af;
    }
    header button {
      flex: 1;
      padding: 10px;
      border: none;
      background: black;
      color: #0af;
      cursor: pointer;
      font-size: 16px;
    }
    header button.active {
      background: #0af;
      color: black;
    }
    .tab {
      display: none;
      height: calc(100vh - 42px);
      overflow: hidden;
      position: relative;
      padding: 10px;
      box-sizing: border-box;
    }
    .tab.active {
      display: block;
    }
    .emoji-explode, .keyboard-flash {
      position: absolute;
      font-size: 2rem;
      pointer-events: none;
    }
    .emoji-explode {
      animation: explode 1s ease-out forwards;
    }
    @keyframes explode {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: translateY(-100px) scale(2); opacity: 0; }
    }
    .leak {
      font-size: 14px;
      animation: leakmove 5s linear forwards;
      position: absolute;
      white-space: nowrap;
    }
    @keyframes leakmove {
      0% { left: 100%; }
      100% { left: -100%; }
    }
    .icon {
      width: 100px;
      height: 100px;
      background: #0af2;
      color: #0af;
      border: 1px solid #0af;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 10px;
      cursor: move;
      position: absolute;
    }
    .window {
      position: absolute;
      top: 100px;
      left: 100px;
      width: 320px;
      height: 240px;
      background: #111;
      color: #0af;
      border: 2px solid #0af;
      padding: 10px;
      box-sizing: border-box;
      overflow: auto;
    }
    .rainbow * {
      color: hsl(calc(360 * var(--i)), 100%, 70%) !important;
      animation: rainbow 5s infinite linear;
    }
    @keyframes rainbow {
      from { filter: hue-rotate(0deg); }
      to { filter: hue-rotate(360deg); }
    }
  </style>
</head>
<body>
<header>
  <button class="tab-btn active" data-tab="emoji">Emoji Hacker</button>
  <button class="tab-btn" data-tab="keyboard">Keyboard Game</button>
  <button class="tab-btn" data-tab="leak">Data Breach</button>
  <button class="tab-btn" data-tab="desktop">Retro Desktop</button>
</header>

<div id="emoji" class="tab active">
  <input type="text" id="emojiInput" placeholder="Type here..." style="width:100%; padding:10px; font-size:18px;">
</div>
<div id="keyboard" class="tab"></div>
<div id="leak" class="tab"></div>
<div id="desktop" class="tab">
  <div class="icon" style="top:50px; left:50px;" onclick="spawnWindow('Terminal')">üñ•Ô∏è Terminal</div>
  <div class="icon" style="top:50px; left:170px;" onclick="spawnWindow('Chat')">üí¨ Chat</div>
  <div class="icon" style="top:50px; left:290px;" onclick="spawnWindow('Self-Destruct')">üí£ Self-Destruct</div>
  <div class="icon" style="top:50px; left:410px;" onclick="spawnWindow('Notes')">üìù Notes</div>
</div>

<script>
// Tabs
const buttons = document.querySelectorAll('.tab-btn');
const tabs = document.querySelectorAll('.tab');
buttons.forEach(btn => {
  btn.addEventListener('click', () => {
    buttons.forEach(b => b.classList.remove('active'));
    tabs.forEach(t => t.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.tab).classList.add('active');
  });
});

// Emoji Hacker
const emojiList = ['üî•','üí•','‚ö°','ü§ñ','üëæ','üöÄ','üí£','üß†','üõ∏','üåå','üéØ','üòà'];
document.getElementById('emojiInput').addEventListener('input', () => {
  for(let i=0;i<5;i++) {
    const e = document.createElement('div');
    e.textContent = emojiList[Math.floor(Math.random()*emojiList.length)];
    e.className = 'emoji-explode';
    e.style.left = Math.random()*window.innerWidth+'px';
    e.style.top = window.innerHeight - 100 + 'px';
    document.body.appendChild(e);
    setTimeout(()=>e.remove(), 1000);
  }
});

// Keyboard Game
const keyboardTab = document.getElementById('keyboard');
document.addEventListener('keydown', (e) => {
  if (!keyboardTab.classList.contains('active')) return;
  const k = document.createElement('div');
  k.className = 'keyboard-flash';
  k.textContent = e.key.toUpperCase();
  k.style.left = Math.random()*window.innerWidth+'px';
  k.style.top = Math.random()*window.innerHeight+'px';
  k.style.color = `hsl(${Math.random()*360}, 100%, 70%)`;
  document.body.appendChild(k);
  setTimeout(()=>k.remove(), 1000);
});

// Leak
const leakTab = document.getElementById('leak');
const fakeUsernames = ["admin","root","neo","cybercat","ghost","admin1"];
const fakePasswords = ["1234","matrix","hunter2","n3ural","zer0","pass"];
function spawnLeak() {
  if (!leakTab.classList.contains('active')) return;
  const leak = document.createElement('div');
  leak.className = 'leak';
  leak.textContent = fakeUsernames[Math.floor(Math.random()*fakeUsernames.length)] + " : " + fakePasswords[Math.floor(Math.random()*fakePasswords.length)];
  leak.style.top = Math.random()*window.innerHeight + 'px';
  leak.style.color = `hsl(${Math.random()*360},100%,70%)`;
  leakTab.appendChild(leak);
  setTimeout(()=>leak.remove(), 5000);
}
setInterval(spawnLeak, 500);

// Retro Windows
function spawnWindow(type) {
  const w = document.createElement('div');
  w.className = 'window';
  if (type === 'Terminal') {
    w.innerHTML = `<b>Terminal</b><br>> <input id='term' style='background:black; color:#0af; border:none; width:80%'><div id='output'></div>`;
    setTimeout(() => {
      const term = w.querySelector('#term');
      const out = w.querySelector('#output');
      term.focus();
      term.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          let val = term.value;
          out.innerHTML += `<br>> ${val}`;
          if (val === 'help') out.innerHTML += `<br>commands: help, clear, whoami, hack`;
          else if (val === 'clear') out.innerHTML = '';
          else if (val === 'whoami') out.innerHTML += `<br>You are: user1337`;
          else if (val === 'hack') out.innerHTML += `<br>Hacking mainframe... üß†‚úÖ`;
          else out.innerHTML += `<br>Command not found.`;
          term.value = '';
        }
      });
    }, 100);
  }
  else if (type === 'Chat') {
    w.innerHTML = '<b>ChatBot</b><br>> Hello user. How can I help?<br>> Try: /joke /hello /bye';
  }
  else if (type === 'Self-Destruct') {
    w.innerHTML = '<b>WARNING</b><br>Self-Destruct Sequence Initiated.<br>Just kidding... üòé';
  }
  else if (type === 'Notes') {
    w.innerHTML = '<b>Notes</b><br><textarea style="width:100%; height:80%; background:black; color:#0af; border:1px solid #0af;"></textarea>';
  }
  document.getElementById('desktop').appendChild(w);
  makeDraggable(w);
}

function makeDraggable(el) {
  let isDown = false;
  let offset = [0, 0];
  el.addEventListener('mousedown', function(e) {
    isDown = true;
    offset = [ el.offsetLeft - e.clientX, el.offsetTop - e.clientY ];
  });
  document.addEventListener('mouseup', () => isDown = false);
  document.addEventListener('mousemove', function(e) {
    if (isDown) {
      el.style.left = (e.clientX + offset[0]) + 'px';
      el.style.top = (e.clientY + offset[1]) + 'px';
    }
  });
}

// Konami Code Rainbow
let konami = ["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];
let input = [];
window.addEventListener('keydown', (e) => {
  input.push(e.key);
  if (input.join(',').includes(konami.join(','))) {
    document.body.classList.add('rainbow');
  }
  if (input.length > 10) input.shift();
});
</script>
</body>
</html>
